<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.common.numberTools &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.common.objects" href="moduleCommonObjects.html" />
    <link rel="prev" title="music21.common.misc" href="moduleCommonMisc.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<script src='http://artusi.xyz/music21j/ext/require/require.js'></script>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleCommonObjects.html" title="music21.common.objects"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleCommonMisc.html" title="music21.common.misc"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleCommonMisc.html"
                        title="previous chapter">music21.common.misc</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleCommonObjects.html"
                        title="next chapter">music21.common.objects</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.common.numberTools</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleCommonNumberTools.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-common-numbertools">
<span id="modulecommonnumbertools"></span><h1>music21.common.numberTools<a class="headerlink" href="#music21-common-numbertools" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.common.numberTools"></span><div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="music21.common.numberTools.fromRoman">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">fromRoman</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.fromRoman" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a Roman numeral (upper or lower) to an int</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/81611-roman-numerals/">http://code.activestate.com/recipes/81611-roman-numerals/</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">fromRoman</span><span class="p">(</span><span class="s1">&#39;ii&#39;</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">fromRoman</span><span class="p">(</span><span class="s1">&#39;vii&#39;</span><span class="p">)</span>
<span class="go">7</span>
</pre></div>
</div>
<p>Works with both IIII and IV forms:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">fromRoman</span><span class="p">(</span><span class="s1">&#39;MCCCCLXXXIX&#39;</span><span class="p">)</span>
<span class="go">1489</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">fromRoman</span><span class="p">(</span><span class="s1">&#39;MCDLXXXIX&#39;</span><span class="p">)</span>
<span class="go">1489</span>
</pre></div>
</div>
<p>Some people consider this an error, but you see it in medieval documents:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">fromRoman</span><span class="p">(</span><span class="s1">&#39;ic&#39;</span><span class="p">)</span>
<span class="go">99</span>
</pre></div>
</div>
<p>But things like this are never seen, and thus cause an error:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">fromRoman</span><span class="p">(</span><span class="s1">&#39;vx&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">music21.exceptions21.Music21CommonException</span>: <span class="n">input contains an invalid subtraction element: vx</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.toRoman">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">toRoman</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.toRoman" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a number from 1 to 3999 to a roman numeral</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">toRoman</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;II&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">toRoman</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">&#39;VII&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">toRoman</span><span class="p">(</span><span class="mi">1999</span><span class="p">)</span>
<span class="go">&#39;MCMXCIX&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">toRoman</span><span class="p">(</span><span class="s2">&quot;hi&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">TypeError</span>: <span class="n">expected integer, got &lt;... &#39;str&#39;&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.addFloatPrecision">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">addFloatPrecision</code><span class="sig-paren">(</span><em>x</em>, <em>grain=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.addFloatPrecision" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a value that suggests a floating point fraction, like .33,
return a Fraction or float that provides greater specification, such as .333333333</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">fractions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">addFloatPrecision</span><span class="p">(</span><span class="o">.</span><span class="mi">333</span><span class="p">)</span>
<span class="go">Fraction(1, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">addFloatPrecision</span><span class="p">(</span><span class="o">.</span><span class="mi">33</span><span class="p">)</span>
<span class="go">Fraction(1, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">addFloatPrecision</span><span class="p">(</span><span class="o">.</span><span class="mi">35</span><span class="p">)</span> <span class="o">==</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">addFloatPrecision</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">addFloatPrecision</span><span class="p">(</span><span class="o">.</span><span class="mi">125</span><span class="p">)</span>
<span class="go">0.125</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">addFloatPrecision</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="mf">1.</span><span class="o">/</span><span class="mi">7</span>
<span class="go">True</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.almostEquals">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">almostEquals</code><span class="sig-paren">(</span><em>x</em>, <em>y=0.0</em>, <em>grain=1e-07</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.almostEquals" title="Permalink to this definition">¶</a></dt>
<dd><p>almostEquals(x, y) &#8211; returns True if x and y are 
within grain (default  0.0000001) of each other</p>
<p>Allows comparisons between floats that are normally inconsistent.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">almostEquals</span><span class="p">(</span><span class="mf">1.000000001</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">almostEquals</span><span class="p">(</span><span class="mf">1.001</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">almostEquals</span><span class="p">(</span><span class="mf">1.001</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">grain</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For very small grains, just compare Fractions without converting...</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.approximateGCD">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">approximateGCD</code><span class="sig-paren">(</span><em>values</em>, <em>grain=0.0001</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.approximateGCD" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of values, find the lowest common divisor of floating point values.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">])</span>
<span class="go">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="go">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">.</span><span class="mi">25</span><span class="p">])</span>
<span class="go">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mf">3.</span><span class="p">]))</span>
<span class="go">&#39;0.3333&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mi">5</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span><span class="mi">4</span><span class="p">]))</span>
<span class="go">&#39;0.3333&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mi">5</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span><span class="mi">5</span><span class="p">]))</span>
<span class="go">&#39;0.3333&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">approximateGCD</span><span class="p">([</span><span class="mi">5</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span><span class="mi">5</span><span class="o">/</span><span class="mf">6.</span><span class="p">,</span><span class="mi">3</span><span class="o">/</span><span class="mf">6.</span><span class="p">]))</span>
<span class="go">&#39;0.1667&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.cleanupFloat">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">cleanupFloat</code><span class="sig-paren">(</span><em>floatNum</em>, <em>maxDenominator=65535</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.cleanupFloat" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up a floating point number by converting
it to a fractions.Fraction object limited to
a denominator of maxDenominator</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">cleanupFloat</span><span class="p">(</span><span class="mf">0.33333327824</span><span class="p">)</span>
<span class="go">0.333333333333...</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">cleanupFloat</span><span class="p">(</span><span class="mf">0.142857</span><span class="p">)</span>
<span class="go">0.1428571428571...</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">cleanupFloat</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="go">1.5</span>
</pre></div>
</div>
<p>Fractions are passed through silently...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">fractions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">cleanupFloat</span><span class="p">(</span><span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">Fraction(4, 3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.contiguousList">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">contiguousList</code><span class="sig-paren">(</span><em>inputListOrTuple</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.contiguousList" title="Permalink to this definition">¶</a></dt>
<dd><p>returns bool True or False if a list containing ints 
contains only contiguous (increasing) values</p>
<p>requires the list to be sorted first</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">contiguousList</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">contiguousList</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Sorting matters</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">contiguousList</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">contiguousList</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.decimalToTuplet">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">decimalToTuplet</code><span class="sig-paren">(</span><em>decNum</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.decimalToTuplet" title="Permalink to this definition">¶</a></dt>
<dd><p>For simple decimals (usually &gt; 1), a quick way to figure out the
fraction in lowest terms that gives a valid tuplet.</p>
<p>No it does not work really fast.  No it does not return tuplets with
denominators over 100.  Too bad, math geeks.  This is real life.  :-)</p>
<p>returns (numerator, denominator)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">decimalToTuplet</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="go">(3, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">decimalToTuplet</span><span class="p">(</span><span class="mf">1.25</span><span class="p">)</span>
<span class="go">(5, 4)</span>
</pre></div>
</div>
<p>If decNum is &lt; 1, the denominator will be greater than the numerator:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">decimalToTuplet</span><span class="p">(</span><span class="o">.</span><span class="mi">8</span><span class="p">)</span>
<span class="go">(4, 5)</span>
</pre></div>
</div>
<p>If decNum is &lt;= 0, returns a ZeroDivisionError:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">decimalToTuplet</span><span class="p">(</span><span class="o">-.</span><span class="mi">02</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">ZeroDivisionError</span>: <span class="n">number must be greater than zero</span>
</pre></div>
</div>
<p>TODO: replace with fractions...</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple(int)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.dotMultiplier">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">dotMultiplier</code><span class="sig-paren">(</span><em>dots</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.dotMultiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>dotMultiplier(dots) returns how long to multiply the note 
length of a note in order to get the note length with n dots</p>
<p>NOTE: the return of a Fraction is deprecated &#8211; in v.4, a float will be returned. 
Since dotMultiplier always returns a power of two in the denominator,
the float will be exact.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">dotMultiplier</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Fraction(3, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">dotMultiplier</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Fraction(7, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">dotMultiplier</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Fraction(15, 8)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">dotMultiplier</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Fraction(1, 1)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Fraction</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.euclidGCD">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">euclidGCD</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.euclidGCD" title="Permalink to this definition">¶</a></dt>
<dd><p>use Euclid&#8217;s algorithm to find the GCD of a and b</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">euclidGCD</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">euclidGCD</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">euclidGCD</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.groupContiguousIntegers">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">groupContiguousIntegers</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.groupContiguousIntegers" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of integers, group contiguous values into sub lists</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">groupContiguousIntegers</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="go">[[3], [5, 6]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">groupContiguousIntegers</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="go">[[3, 4], [6]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">groupContiguousIntegers</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="go">[[3, 4], [6, 7]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">groupContiguousIntegers</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
<span class="go">[[3, 4], [6, 7], [20]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">groupContiguousIntegers</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="go">[[3, 4, 5, 6, 7]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">groupContiguousIntegers</span><span class="p">([</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[[3]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">groupContiguousIntegers</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="go">[[3], [200]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.lcm">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">lcm</code><span class="sig-paren">(</span><em>filterList</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.lcm" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the least common multiple of a list of values</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">lcm</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="go">60</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">lcm</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">lcm</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">lcm</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="go">6</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.mixedNumeral">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">mixedNumeral</code><span class="sig-paren">(</span><em>expr</em>, <em>limitDenominator=65535</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.mixedNumeral" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string representing a mixedNumeral form of a number</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span><span class="mf">1.333333</span><span class="p">)</span>
<span class="go">&#39;1 1/3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span><span class="mf">0.333333</span><span class="p">)</span>
<span class="go">&#39;1/3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span><span class="o">-</span><span class="mf">1.333333</span><span class="p">)</span>
<span class="go">&#39;-1 1/3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span><span class="o">-</span><span class="mf">0.333333</span><span class="p">)</span>
<span class="go">&#39;-1/3&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;0&#39;</span>
</pre></div>
</div>
<p>Works with Fraction objects too</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="k">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="p">)</span>
<span class="go">&#39;4 3/7&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
<span class="go">&#39;1/5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span> <span class="n">Fraction</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
<span class="go">&#39;-1/5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span> <span class="n">Fraction</span><span class="p">(</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="p">)</span>
<span class="go">&#39;-4 3/7&#39;</span>
</pre></div>
</div>
<p>Denominator is limited by default but can be changed.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span><span class="mf">2.0000001</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">mixedNumeral</span><span class="p">(</span><span class="mf">2.0000001</span><span class="p">,</span> <span class="n">limitDenominator</span><span class="o">=</span><span class="mi">10000000</span><span class="p">)</span>
<span class="go">&#39;2 1/10000000&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.nearestMultiple">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">nearestMultiple</code><span class="sig-paren">(</span><em>n</em>, <em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.nearestMultiple" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a positive value <cite>n</cite>, return the nearest multiple of the supplied <cite>unit</cite> as well as 
the absolute difference (error) to seven significant digits and the signed difference.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">))</span>
<span class="go">(0.25, 0.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="o">.</span><span class="mi">35</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">))</span>
<span class="go">(0.25, 0.1..., 0.1...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">))</span>
<span class="go">(0.25, 0.05..., -0.05...)</span>
</pre></div>
</div>
<p>Note that this one also has an error of .1 but it&#8217;s a positive error off of 0.5
&gt;&gt;&gt; print(common.nearestMultiple(.4, .25))
(0.5, 0.1..., -0.1...)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="o">.</span><span class="mi">4</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="mf">23404.001</span><span class="p">,</span> <span class="o">.</span><span class="mi">125</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">23404.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="mf">23404.134</span><span class="p">,</span> <span class="o">.</span><span class="mi">125</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">23404.125</span>
</pre></div>
</div>
<p>Error is always positive, but signed difference can be negative.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="mi">23404</span> <span class="o">-</span> <span class="mf">0.0625</span><span class="p">,</span> <span class="o">.</span><span class="mi">125</span><span class="p">)</span>
<span class="go">(23403.875, 0.0625, 0.0625) </span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="o">.</span><span class="mi">001</span><span class="p">,</span> <span class="o">.</span><span class="mi">125</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">almostEquals</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">3.</span><span class="p">))[</span><span class="mi">0</span><span class="p">],</span> <span class="o">.</span><span class="mi">33333333</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">almostEquals</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="o">.</span><span class="mi">55</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">3.</span><span class="p">))[</span><span class="mi">0</span><span class="p">],</span> <span class="o">.</span><span class="mi">66666666</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">almostEquals</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="mf">234.69</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">3.</span><span class="p">))[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">234.6666666</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">almostEquals</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="mf">18.123</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">6.</span><span class="p">))[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">18.16666666</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">nearestMultiple</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">ValueError</span>: <span class="n">n (-0.5) is less than zero. Thus cannot find nearest </span>
<span class="go">    multiple for a value less than the unit, 0.125</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple(float)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.numToIntOrFloat">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">numToIntOrFloat</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.numToIntOrFloat" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a number, return an integer if it is very close to an integer, 
otherwise, return a float.</p>
<p>This routine is very important for conversion of
<code class="xref py py-class docutils literal"><span class="pre">Accidential</span></code> objects&#8217; <cite>.alter</cite>  attribute
in musicXML must be 1 (not 1.0) for sharp and -1 (not -1.0) for flat,
but allows for 0.5 for half-sharp.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">numToIntOrFloat</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">numToIntOrFloat</span><span class="p">(</span><span class="mf">1.00003</span><span class="p">)</span>
<span class="go">1.00003</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">numToIntOrFloat</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="go">1.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">numToIntOrFloat</span><span class="p">(</span><span class="mf">1.0000000005</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sharp</span> <span class="o">=</span> <span class="n">pitch</span><span class="o">.</span><span class="n">Accidental</span><span class="p">(</span><span class="s1">&#39;sharp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">numToIntOrFloat</span><span class="p">(</span><span class="n">sharp</span><span class="o">.</span><span class="n">alter</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">halfFlat</span> <span class="o">=</span> <span class="n">pitch</span><span class="o">.</span><span class="n">Accidental</span><span class="p">(</span><span class="s1">&#39;half-flat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">numToIntOrFloat</span><span class="p">(</span><span class="n">halfFlat</span><span class="o">.</span><span class="n">alter</span><span class="p">)</span>
<span class="go">-0.5</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.opFrac">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">opFrac</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.opFrac" title="Permalink to this definition">¶</a></dt>
<dd><p>opFrac -&gt; optionally convert a number to a fraction or back.</p>
<p>Important music21 2.x function for working with offsets and quarterLengths</p>
<p>Takes in a number (or None) and converts it to a Fraction with denominator
less than limitDenominator if it is not binary expressible; otherwise return a float.  
Or if the Fraction can be converted back to a binary expressable
float then do so.</p>
<p>This function should be called often to ensure that values being passed around are floats
and ints wherever possible and fractions where needed.</p>
<p>The naming of this method violates music21&#8217;s general rule of no abbreviations, but it
is important to make it short enough so that no one will be afraid of calling it often.
It also doesn&#8217;t have a setting for maxDenominator so that it will expand in
Code Completion easily. That is to say, this function has been set up to be used, so please
use it.</p>
<p>This is a performance critical operation. Do not alter it in any way without running
many timing tests.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="k">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">defaults</span><span class="o">.</span><span class="n">limitOffsetDenominator</span>
<span class="go">65535</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">opFrac</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">opFrac</span><span class="p">(</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Fraction(1, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">opFrac</span><span class="p">(</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="go">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">opFrac</span><span class="p">(</span><span class="n">f</span> <span class="o">+</span> <span class="n">f</span> <span class="o">+</span> <span class="n">f</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">opFrac</span><span class="p">(</span><span class="mf">0.123456789</span><span class="p">)</span>
<span class="go">Fraction(10, 81)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">opFrac</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.ordinalAbbreviation">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">ordinalAbbreviation</code><span class="sig-paren">(</span><em>value</em>, <em>plural=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.ordinalAbbreviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ordinal abbreviations for integers</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">ordinalAbbreviation</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&#39;rd&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">ordinalAbbreviation</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="go">&#39;th&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">ordinalAbbreviation</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="n">plural</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;ths&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.roundToHalfInteger">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">roundToHalfInteger</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.roundToHalfInteger" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a floating-point number, round to the nearest half-integer. Returns int or float</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="mf">1.35</span><span class="p">)</span>
<span class="go">1.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="mf">1.8</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="mf">1.6234</span><span class="p">)</span>
<span class="go">1.5</span>
</pre></div>
</div>
<p>.25 rounds up:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
<span class="go">0.5</span>
</pre></div>
</div>
<p>as does .75</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>unlike python round function, does the same for 1.25 and 1.75</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="mf">1.25</span><span class="p">)</span>
<span class="go">1.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="mf">1.75</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>negative numbers however, round up on the boundaries</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="o">-</span><span class="mf">0.26</span><span class="p">)</span>
<span class="go">-0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">roundToHalfInteger</span><span class="p">(</span><span class="o">-</span><span class="mf">0.25</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.standardDeviation">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">standardDeviation</code><span class="sig-paren">(</span><em>coll</em>, <em>bassel=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.standardDeviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a collection of values, return the standard deviation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">standardDeviation</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">standardDeviation</span><span class="p">([</span><span class="mi">600</span><span class="p">,</span> <span class="mi">470</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">430</span><span class="p">,</span> <span class="mi">300</span><span class="p">])</span>
<span class="go">147.3227...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">standardDeviation</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="n">bassel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">2.23606...</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.strTrimFloat">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">strTrimFloat</code><span class="sig-paren">(</span><em>floatNum</em>, <em>maxNum=4</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.strTrimFloat" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a string from a float that is at most maxNum of
decimial digits long, but never less than 1.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="mf">42.3333333333</span><span class="p">)</span>
<span class="go">&#39;42.3333&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="mf">42.3333333333</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;42.33&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="mf">6.66666666666666</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;6.67&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="go">&#39;2.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">strTrimFloat</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="go">&#39;-5.0&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.unitBoundaryProportion">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">unitBoundaryProportion</code><span class="sig-paren">(</span><em>series</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.unitBoundaryProportion" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a series of parts with an implied sum, and create 
unit-interval boundaries proportional to the series components.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">unitBoundaryProportion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[(0, 0.25), (0.25, 0.5), (0.5, 1.0)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">unitBoundaryProportion</span><span class="p">([</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[(0, 0.8...), (0.8..., 0.9...), (0.9..., 1.0)]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(tuple(float))</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.unitNormalizeProportion">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">unitNormalizeProportion</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.unitNormalizeProportion" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize values within the unit interval, where max is determined by the sum of the series.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">unitNormalizeProportion</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">[0.0, 0.42857142857142855, 0.5714285714285714]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">unitNormalizeProportion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[0.3333333..., 0.333333..., 0.333333...]</span>
</pre></div>
</div>
<p>On 32-bit computers this number is inexact.  On 64-bit it works fine.</p>
<p>#&gt;&gt;&gt; common.unitNormalizeProportion([.2, .6, .2])
#[0.20000000000000001, 0.59999999999999998, 0.20000000000000001]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(float)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.numberTools.weightedSelection">
<code class="descclassname">music21.common.numberTools.</code><code class="descname">weightedSelection</code><span class="sig-paren">(</span><em>values</em>, <em>weights</em>, <em>randomGenerator=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.numberTools.weightedSelection" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of values and an equal-sized list of weights,
return a randomly selected value using the weight.</p>
<p>Example: sum -1 and 1 for 100 values; should be
around 0 or at least between -50 and 50 (99.99999% of the time)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="mi">50</span> <span class="o">&lt;</span> <span class="nb">sum</span><span class="p">([</span><span class="n">common</span><span class="o">.</span><span class="n">weightedSelection</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)])</span> <span class="o">&lt;</span> <span class="mi">50</span>
<span class="go">True</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleCommonObjects.html" title="music21.common.objects"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleCommonMisc.html" title="music21.common.misc"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2016, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Aug 21, 2016.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>