<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.tree.verticality &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.variant" href="moduleVariant.html" />
    <link rel="prev" title="music21.tree.trees" href="moduleTreeTrees.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<script src='http://artusi.xyz/music21j/ext/require/require.js'></script>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleVariant.html" title="music21.variant"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleTreeTrees.html" title="music21.tree.trees"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleTreeTrees.html"
                        title="previous chapter">music21.tree.trees</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleVariant.html"
                        title="next chapter">music21.variant</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.tree.verticality</a><ul>
<li><a class="reference internal" href="#verticality">Verticality</a></li>
<li><a class="reference internal" href="#verticalitysequence">VerticalitySequence</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleTreeVerticality.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-tree-verticality">
<span id="moduletreeverticality"></span><h1>music21.tree.verticality<a class="headerlink" href="#music21-tree-verticality" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.tree.verticality"></span><p>Object for dealing with vertical simultaneities in a fast way w/o Chord&#8217;s overhead.</p>
<div class="section" id="verticality">
<h2>Verticality<a class="headerlink" href="#verticality" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.tree.verticality.Verticality">
<em class="property">class </em><code class="descclassname">music21.tree.verticality.</code><code class="descname">Verticality</code><span class="sig-paren">(</span><em>offset=None</em>, <em>overlapTimespans=None</em>, <em>startTimespans=None</em>, <em>stopTimespans=None</em>, <em>timespanTree=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.verticality.Verticality" title="Permalink to this definition">¶</a></dt>
<dd><p>A collection of information about elements that are sounding at a given
offset or just finished at that offset or are continuing from before, etc..</p>
<p>Create a timespan-stream from a score:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>       <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
</pre></div>
</div>
<p>Find the verticality at offset 6.5, or beat 2.5 of measure 2 (there&#8217;s a one
beat pickup)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">6.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 6.5 {E3 D4 G#4 B4}&gt;</span>
</pre></div>
</div>
<p>The representation of a verticality gives the pitches from lowest to
highest (in sounding notes).</p>
<p>A verticality knows its offset, but because elements might end at
different times, it doesn&#8217;t know its endTime</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">offset</span>
<span class="go">6.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">endTime</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;Verticality&#39; object has no attribute &#39;endTime&#39;</span>
</pre></div>
</div>
<p>However, we can find when the next verticality starts by looking at the
nextVerticality</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nv</span> <span class="o">=</span> <span class="n">verticality</span><span class="o">.</span><span class="n">nextVerticality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nv</span>
<span class="go">&lt;Verticality 7.0 {A2 C#4 E4 A4}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nv</span><span class="o">.</span><span class="n">offset</span>
<span class="go">7.0</span>
</pre></div>
</div>
<p>Or more simply:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">nextStartOffset</span>
<span class="go">7.0</span>
</pre></div>
</div>
<p>(There is also a previousVerticality, but not a previousStartOffset)</p>
<p>What we just demonstrated is actually very powerful: a Verticality keeps a
record of exactly where it is in the timespanTree &#8211; scores can be
recreated with this information.</p>
<p>Getting back to the task at hand, we can find all the PitchedTimespans (and
from there the elements) that start at exactly 6.5.  There&#8217;s one, it&#8217;s a
passing tone D in the tenor and it lastes from offset 6.5 to offset 7.0,
with respect to the beginning of the score, not to the beginning of the
measure.  That is to say, it&#8217;s an eighth note</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">startTimespans</span>
<span class="go">(&lt;PitchedTimespan (6.5 to 7.0) &lt;music21.note.Note D&gt;&gt;,)</span>
</pre></div>
</div>
<p>And we can get all the PitchedTimespans that were already sounding at the
moment (that is to say, the non-passing tones):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">overlapTimespans</span>
<span class="go">(&lt;PitchedTimespan (6.0 to 7.0) &lt;music21.note.Note B&gt;&gt;,</span>
<span class="go"> &lt;PitchedTimespan (6.0 to 7.0) &lt;music21.note.Note G#&gt;&gt;,</span>
<span class="go"> &lt;PitchedTimespan (6.0 to 7.0) &lt;music21.note.Note E&gt;&gt;)</span>
</pre></div>
</div>
<p>And we can get all the things that stop right at this moment.  It&#8217;s the E
in the tenor preceding the passing tone D:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">stopTimespans</span>
<span class="go">(&lt;PitchedTimespan (6.0 to 6.5) &lt;music21.note.Note E&gt;&gt;,)</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.tree.verticality.Verticality" title="music21.tree.verticality.Verticality"><code class="xref py py-class docutils literal"><span class="pre">Verticality</span></code></a> read-only properties</p>
<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.bassTimespan">
<code class="descclassname">Verticality.</code><code class="descname">bassTimespan</code><a class="headerlink" href="#music21.tree.verticality.Verticality.bassTimespan" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the bass timespan in this verticality.</p>
<p>This is CURRENTLY the lowest PART not the lowest note necessarily.
TODO: Fix this!</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 1.0 {F#3 C#4 F#4 A4}&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">bassTimespan</span>
<span class="go">&lt;PitchedTimespan (1.0 to 2.0) &lt;music21.note.Note F#&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.beatStrength">
<code class="descclassname">Verticality.</code><code class="descname">beatStrength</code><a class="headerlink" href="#music21.tree.verticality.Verticality.beatStrength" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the beat strength of a verticality.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">beatStrength</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>Note that it will return None if there are no startTimespans at this point:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 1.25 {F#3 C#4 F#4 A4}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">startTimespans</span>
<span class="go">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">beatStrength</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.isConsonant">
<code class="descclassname">Verticality.</code><code class="descname">isConsonant</code><a class="headerlink" href="#music21.tree.verticality.Verticality.isConsonant" title="Permalink to this definition">¶</a></dt>
<dd><p>Is true when the pitch set of a verticality is consonant.</p>
<p>TODO: remove, and use toChord.isConsonant() instead.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticalities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">scoreTree</span><span class="o">.</span><span class="n">iterateVerticalities</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">verticality</span> <span class="ow">in</span> <span class="n">verticalities</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%r</span><span class="s2"> </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">verticality</span><span class="p">,</span> <span class="n">verticality</span><span class="o">.</span><span class="n">isConsonant</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">&lt;Verticality 0.0 {A3 E4 C#5}&gt; True</span>
<span class="go">&lt;Verticality 0.5 {G#3 B3 E4 B4}&gt; True</span>
<span class="go">&lt;Verticality 1.0 {F#3 C#4 F#4 A4}&gt; True</span>
<span class="go">&lt;Verticality 2.0 {G#3 B3 E4 B4}&gt; True</span>
<span class="go">&lt;Verticality 3.0 {A3 E4 C#5}&gt; True</span>
<span class="go">&lt;Verticality 4.0 {G#3 B3 E4 E5}&gt; True</span>
<span class="go">&lt;Verticality 5.0 {A3 E4 C#5}&gt; True</span>
<span class="go">&lt;Verticality 5.5 {C#3 E4 A4 C#5}&gt; True</span>
<span class="go">&lt;Verticality 6.0 {E3 E4 G#4 B4}&gt; True</span>
<span class="go">&lt;Verticality 6.5 {E3 D4 G#4 B4}&gt; False</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.measureNumber">
<code class="descclassname">Verticality.</code><code class="descname">measureNumber</code><a class="headerlink" href="#music21.tree.verticality.Verticality.measureNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the measure number of the verticality&#8217;s starting elements.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">7.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.nextStartOffset">
<code class="descclassname">Verticality.</code><code class="descname">nextStartOffset</code><a class="headerlink" href="#music21.tree.verticality.Verticality.nextStartOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the next start-offset in the verticality&#8217;s offset-tree.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">nextStartOffset</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>If a verticality has no tree attached, then it cannot be</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.nextVerticality">
<code class="descclassname">Verticality.</code><code class="descname">nextVerticality</code><a class="headerlink" href="#music21.tree.verticality.Verticality.nextVerticality" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the next verticality after a verticality.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">verticality</span><span class="p">)</span>
<span class="go">&lt;Verticality 1.0 {F#3 C#4 F#4 A4}&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nextVerticality</span> <span class="o">=</span> <span class="n">verticality</span><span class="o">.</span><span class="n">nextVerticality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">nextVerticality</span><span class="p">)</span>
<span class="go">&lt;Verticality 2.0 {G#3 B3 E4 B4}&gt;</span>
</pre></div>
</div>
<p>Verticality objects created by an offset-tree hold a reference back to
that offset-tree. This means that they determine their next or previous
verticality dynamically based on the state of the offset-tree only when
asked. Because of this, it is safe to mutate the offset-tree by
inserting or removing timespans while iterating over it.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span><span class="o">.</span><span class="n">removeTimespanList</span><span class="p">(</span><span class="n">nextVerticality</span><span class="o">.</span><span class="n">startTimespans</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">nextVerticality</span>
<span class="go">&lt;Verticality 3.0 {A3 E4 C#5}&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.pitchClassSet">
<code class="descclassname">Verticality.</code><code class="descname">pitchClassSet</code><a class="headerlink" href="#music21.tree.verticality.Verticality.pitchClassSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the pitch-class set of all elements in a verticality.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pitchClass</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">verticality</span><span class="o">.</span><span class="n">pitchClassSet</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">pitchClass</span>
<span class="gp">...</span>
<span class="go">&lt;music21.pitch.Pitch C#&gt;</span>
<span class="go">&lt;music21.pitch.Pitch F#&gt;</span>
<span class="go">&lt;music21.pitch.Pitch A&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.pitchSet">
<code class="descclassname">Verticality.</code><code class="descname">pitchSet</code><a class="headerlink" href="#music21.tree.verticality.Verticality.pitchSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the pitch set of all elements in a verticality.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pitch</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">verticality</span><span class="o">.</span><span class="n">pitchSet</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">pitch</span>
<span class="gp">...</span>
<span class="go">&lt;music21.pitch.Pitch F#3&gt;</span>
<span class="go">&lt;music21.pitch.Pitch C#4&gt;</span>
<span class="go">&lt;music21.pitch.Pitch F#4&gt;</span>
<span class="go">&lt;music21.pitch.Pitch A4&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.previousVerticality">
<code class="descclassname">Verticality.</code><code class="descname">previousVerticality</code><a class="headerlink" href="#music21.tree.verticality.Verticality.previousVerticality" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the previous verticality before a verticality.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">verticality</span><span class="p">)</span>
<span class="go">&lt;Verticality 1.0 {F#3 C#4 F#4 A4}&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">previousVerticality</span> <span class="o">=</span> <span class="n">verticality</span><span class="o">.</span><span class="n">previousVerticality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">previousVerticality</span><span class="p">)</span>
<span class="go">&lt;Verticality 0.5 {G#3 B3 E4 B4}&gt;</span>
</pre></div>
</div>
<p>Continue it:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">v</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">previousVerticality</span>
<span class="go">&lt;Verticality 1.0 {F#3 C#4 F#4 A4}&gt;</span>
<span class="go">&lt;Verticality 0.5 {G#3 B3 E4 B4}&gt;</span>
<span class="go">&lt;Verticality 0.0 {A3 E4 C#5}&gt;</span>
</pre></div>
</div>
<p>Verticality objects created by an offset-tree hold a reference back to
that offset-tree. This means that they determine their next or previous
verticality dynamically based on the state of the offset-tree only when
asked. Because of this, it is safe to mutate the offset-tree by
inserting or removing timespans while iterating over it.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span><span class="o">.</span><span class="n">removeTimespanList</span><span class="p">(</span><span class="n">previousVerticality</span><span class="o">.</span><span class="n">startTimespans</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">previousVerticality</span>
<span class="go">&lt;Verticality 0.0 {A3 E4 C#5}&gt;</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.tree.verticality.Verticality" title="music21.tree.verticality.Verticality"><code class="xref py py-class docutils literal"><span class="pre">Verticality</span></code></a> methods</p>
<dl class="method">
<dt id="music21.tree.verticality.Verticality.getAllVoiceLeadingQuartets">
<code class="descclassname">Verticality.</code><code class="descname">getAllVoiceLeadingQuartets</code><span class="sig-paren">(</span><em>includeRests=True</em>, <em>includeOblique=True</em>, <em>includeNoMotion=False</em>, <em>returnObjects=True</em>, <em>partPairNumbers=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.verticality.Verticality.getAllVoiceLeadingQuartets" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;luca/gloria&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">measures</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tsCol</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality22</span> <span class="o">=</span> <span class="n">tsCol</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">22.0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pprint</span> <span class="k">import</span> <span class="n">pprint</span> <span class="k">as</span> <span class="n">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">vlq</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getAllVoiceLeadingQuartets</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">pp</span><span class="p">(</span><span class="n">vlq</span><span class="p">)</span>
<span class="go">&lt;music21.voiceLeading.VoiceLeadingQuartet </span>
<span class="go">     v1n1=&lt;music21.note.Note G&gt;, v1n2=&lt;music21.note.Note C&gt;, </span>
<span class="go">     v2n1=&lt;music21.note.Note E&gt;, v2n2=&lt;music21.note.Note F&gt; &gt;</span>
<span class="go">&lt;music21.voiceLeading.VoiceLeadingQuartet </span>
<span class="go">    v1n1=&lt;music21.note.Note G&gt;, v1n2=&lt;music21.note.Note C&gt;, </span>
<span class="go">    v2n1=&lt;music21.note.Note A&gt;, v2n2=&lt;music21.note.Note A&gt; &gt;</span>
<span class="go">&lt;music21.voiceLeading.VoiceLeadingQuartet </span>
<span class="go">    v1n1=&lt;music21.note.Note E&gt;, v1n2=&lt;music21.note.Note F&gt;, </span>
<span class="go">    v2n1=&lt;music21.note.Note A&gt;, v2n2=&lt;music21.note.Note A&gt; &gt; </span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">vlq</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getAllVoiceLeadingQuartets</span><span class="p">(</span><span class="n">includeRests</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">pp</span><span class="p">(</span><span class="n">vlq</span><span class="p">)</span>
<span class="go">&lt;music21.voiceLeading.VoiceLeadingQuartet </span>
<span class="go">    v1n1=&lt;music21.note.Note E&gt;, v1n2=&lt;music21.note.Note F&gt;, </span>
<span class="go">    v2n1=&lt;music21.note.Note A&gt;, v2n2=&lt;music21.note.Note A&gt; &gt; </span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">vlq</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getAllVoiceLeadingQuartets</span><span class="p">(</span><span class="n">includeOblique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">pp</span><span class="p">(</span><span class="n">vlq</span><span class="p">)</span>
<span class="go">&lt;music21.voiceLeading.VoiceLeadingQuartet </span>
<span class="go">    v1n1=&lt;music21.note.Note G&gt;, v1n2=&lt;music21.note.Note C&gt;, </span>
<span class="go">    v2n1=&lt;music21.note.Note E&gt;, v2n2=&lt;music21.note.Note F&gt; &gt; </span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality22</span><span class="o">.</span><span class="n">getAllVoiceLeadingQuartets</span><span class="p">(</span><span class="n">includeOblique</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">includeRests</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Raw output</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">vlqRaw</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getAllVoiceLeadingQuartets</span><span class="p">(</span><span class="n">returnObjects</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">pp</span><span class="p">(</span><span class="n">vlqRaw</span><span class="p">)</span>
<span class="go">((&lt;PitchedTimespan (19.5 to 21.0) &lt;music21.note.Note G&gt;&gt;,</span>
<span class="go">  &lt;PitchedTimespan (22.0 to 22.5) &lt;music21.note.Note C&gt;&gt;),</span>
<span class="go"> (&lt;PitchedTimespan (21.0 to 22.0) &lt;music21.note.Note E&gt;&gt;,</span>
<span class="go">  &lt;PitchedTimespan (22.0 to 23.0) &lt;music21.note.Note F&gt;&gt;))</span>
<span class="go">((&lt;PitchedTimespan (19.5 to 21.0) &lt;music21.note.Note G&gt;&gt;,</span>
<span class="go">  &lt;PitchedTimespan (22.0 to 22.5) &lt;music21.note.Note C&gt;&gt;),</span>
<span class="go"> (&lt;PitchedTimespan (21.5 to 22.5) &lt;music21.note.Note A&gt;&gt;,</span>
<span class="go">  &lt;PitchedTimespan (21.5 to 22.5) &lt;music21.note.Note A&gt;&gt;))</span>
<span class="go">((&lt;PitchedTimespan (21.0 to 22.0) &lt;music21.note.Note E&gt;&gt;,</span>
<span class="go">  &lt;PitchedTimespan (22.0 to 23.0) &lt;music21.note.Note F&gt;&gt;),</span>
<span class="go"> (&lt;PitchedTimespan (21.5 to 22.5) &lt;music21.note.Note A&gt;&gt;,</span>
<span class="go">  &lt;PitchedTimespan (21.5 to 22.5) &lt;music21.note.Note A&gt;&gt;))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">vlq</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getAllVoiceLeadingQuartets</span><span class="p">(</span><span class="n">partPairNumbers</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]):</span>
<span class="gp">... </span>    <span class="n">pp</span><span class="p">(</span><span class="n">vlq</span><span class="p">)</span>
<span class="go">&lt;music21.voiceLeading.VoiceLeadingQuartet </span>
<span class="go">    v1n1=&lt;music21.note.Note G&gt;, v1n2=&lt;music21.note.Note C&gt;, </span>
<span class="go">    v2n1=&lt;music21.note.Note E&gt;, v2n2=&lt;music21.note.Note F&gt; &gt;  </span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">vlq</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getAllVoiceLeadingQuartets</span><span class="p">(</span><span class="n">partPairNumbers</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]):</span>
<span class="gp">... </span>    <span class="n">pp</span><span class="p">(</span><span class="n">vlq</span><span class="p">)</span>
<span class="go">&lt;music21.voiceLeading.VoiceLeadingQuartet </span>
<span class="go">    v1n1=&lt;music21.note.Note G&gt;, v1n2=&lt;music21.note.Note C&gt;, </span>
<span class="go">    v2n1=&lt;music21.note.Note A&gt;, v2n2=&lt;music21.note.Note A&gt; &gt;                 </span>
<span class="go">&lt;music21.voiceLeading.VoiceLeadingQuartet </span>
<span class="go">    v1n1=&lt;music21.note.Note E&gt;, v1n2=&lt;music21.note.Note F&gt;, </span>
<span class="go">    v2n1=&lt;music21.note.Note A&gt;, v2n2=&lt;music21.note.Note A&gt; &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.tree.verticality.Verticality.getPairedMotion">
<code class="descclassname">Verticality.</code><code class="descname">getPairedMotion</code><span class="sig-paren">(</span><em>includeRests=True</em>, <em>includeOblique=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.verticality.Verticality.getPairedMotion" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of two-element tuples that are in the same part [TODO: or containing stream??]
and which move here.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;luca/gloria&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">measures</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tsCol</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality22</span> <span class="o">=</span> <span class="n">tsCol</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">22.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getPairedMotion</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pm</span><span class="p">)</span>
<span class="go">(&lt;PitchedTimespan (19.5 to 21.0) &lt;music21.note.Note G&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (22.0 to 22.5) &lt;music21.note.Note C&gt;&gt;)</span>
<span class="go">(&lt;PitchedTimespan (21.0 to 22.0) &lt;music21.note.Note E&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (22.0 to 23.0) &lt;music21.note.Note F&gt;&gt;)</span>
<span class="go">(&lt;PitchedTimespan (21.5 to 22.5) &lt;music21.note.Note A&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (21.5 to 22.5) &lt;music21.note.Note A&gt;&gt;)</span>
</pre></div>
</div>
<p>Note that the second one contains a one-beat rest at 21.0-22.0; so includeRests = False will
get rid of that:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getPairedMotion</span><span class="p">(</span><span class="n">includeRests</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pm</span><span class="p">)</span>
<span class="go">(&lt;PitchedTimespan (21.0 to 22.0) &lt;music21.note.Note E&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (22.0 to 23.0) &lt;music21.note.Note F&gt;&gt;)</span>
<span class="go">(&lt;PitchedTimespan (21.5 to 22.5) &lt;music21.note.Note A&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (21.5 to 22.5) &lt;music21.note.Note A&gt;&gt;)</span>
</pre></div>
</div>
<p>Oblique here means a pair that does not move (it could be called noMotion, 
because there&#8217;s no motion
here in a two-note pair, but we still call it includeOblique so it&#8217;s consistent with
getAllVoiceLeadingQuartets).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getPairedMotion</span><span class="p">(</span><span class="n">includeOblique</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pm</span><span class="p">)</span>
<span class="go">(&lt;PitchedTimespan (19.5 to 21.0) &lt;music21.note.Note G&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (22.0 to 22.5) &lt;music21.note.Note C&gt;&gt;)</span>
<span class="go">(&lt;PitchedTimespan (21.0 to 22.0) &lt;music21.note.Note E&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (22.0 to 23.0) &lt;music21.note.Note F&gt;&gt;)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="n">verticality22</span><span class="o">.</span><span class="n">getPairedMotion</span><span class="p">(</span><span class="n">includeOblique</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">includeRests</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pm</span><span class="p">)</span>
<span class="go">(&lt;PitchedTimespan (21.0 to 22.0) &lt;music21.note.Note E&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (22.0 to 23.0) &lt;music21.note.Note F&gt;&gt;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.tree.verticality.Verticality.makeElement">
<code class="descclassname">Verticality.</code><code class="descname">makeElement</code><span class="sig-paren">(</span><em>quarterLength=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.verticality.Verticality.makeElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a Chord or Rest from this verticality and quarterLength.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">makeExampleScore</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 4.0 {E#3 G3}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el</span> <span class="o">=</span> <span class="n">verticality</span><span class="o">.</span><span class="n">makeElement</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el</span>
<span class="go">&lt;music21.chord.Chord E#3 G3&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;half&#39;</span>
</pre></div>
</div>
<p>If there is nothing there, then a Rest is created</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">400.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 400.0 {}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el</span> <span class="o">=</span> <span class="n">verticality</span><span class="o">.</span><span class="n">makeElement</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el</span>
<span class="go">&lt;music21.note.Rest rest&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">fullName</span>
<span class="go">&#39;Eighth Triplet (1/3 QL)&#39;</span>
</pre></div>
</div>
<p>TODO: Consider if this is better to return a Note if only one pitch?</p>
</dd></dl>

<dl class="method">
<dt id="music21.tree.verticality.Verticality.toChord">
<code class="descclassname">Verticality.</code><code class="descname">toChord</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.verticality.Verticality.toChord" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a chord object from the verticality</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.tree.verticality.Verticality" title="music21.tree.verticality.Verticality"><code class="xref py py-class docutils literal"><span class="pre">Verticality</span></code></a> instance variables</p>
<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.offset">
<code class="descclassname">Verticality.</code><code class="descname">offset</code><a class="headerlink" href="#music21.tree.verticality.Verticality.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the start offset of a verticality.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 1.0 {F#3 C#4 F#4 A4}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">offset</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.overlapTimespans">
<code class="descclassname">Verticality.</code><code class="descname">overlapTimespans</code><a class="headerlink" href="#music21.tree.verticality.Verticality.overlapTimespans" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets timespans overlapping the start offset of a verticality.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 0.5 {G#3 B3 E4 B4}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span><span class="o">.</span><span class="n">overlapTimespans</span>
<span class="go">(&lt;PitchedTimespan (0.0 to 1.0) &lt;music21.note.Note E&gt;&gt;,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.startTimespans">
<code class="descclassname">Verticality.</code><code class="descname">startTimespans</code><a class="headerlink" href="#music21.tree.verticality.Verticality.startTimespans" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the timespans starting at a verticality&#8217;s start offset.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>           <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 1.0 {F#3 C#4 F#4 A4}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timespan</span> <span class="ow">in</span> <span class="n">verticality</span><span class="o">.</span><span class="n">startTimespans</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">timespan</span>
<span class="gp">...</span>
<span class="go">&lt;PitchedTimespan (1.0 to 2.0) &lt;music21.note.Note A&gt;&gt;</span>
<span class="go">&lt;PitchedTimespan (1.0 to 2.0) &lt;music21.note.Note F#&gt;&gt;</span>
<span class="go">&lt;PitchedTimespan (1.0 to 2.0) &lt;music21.note.Note C#&gt;&gt;</span>
<span class="go">&lt;PitchedTimespan (1.0 to 2.0) &lt;music21.note.Note F#&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.stopTimespans">
<code class="descclassname">Verticality.</code><code class="descname">stopTimespans</code><a class="headerlink" href="#music21.tree.verticality.Verticality.stopTimespans" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the timespans stopping at a verticality&#8217;s start offset.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">getVerticalityAt</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verticality</span>
<span class="go">&lt;Verticality 1.0 {F#3 C#4 F#4 A4}&gt;</span>
</pre></div>
</div>
<p>Note that none of the elements in the stopTimespans are listed in
the repr for the Verticality</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timespan</span> <span class="ow">in</span> <span class="n">verticality</span><span class="o">.</span><span class="n">stopTimespans</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">timespan</span>
<span class="gp">...</span>
<span class="go">&lt;PitchedTimespan (0.0 to 1.0) &lt;music21.note.Note E&gt;&gt;</span>
<span class="go">&lt;PitchedTimespan (0.5 to 1.0) &lt;music21.note.Note B&gt;&gt;</span>
<span class="go">&lt;PitchedTimespan (0.5 to 1.0) &lt;music21.note.Note B&gt;&gt;</span>
<span class="go">&lt;PitchedTimespan (0.5 to 1.0) &lt;music21.note.Note G#&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.verticality.Verticality.timespanTree">
<code class="descclassname">Verticality.</code><code class="descname">timespanTree</code><a class="headerlink" href="#music21.tree.verticality.Verticality.timespanTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the timespanTree initially set.</p>
</dd></dl>

</div>
<div class="section" id="verticalitysequence">
<h2>VerticalitySequence<a class="headerlink" href="#verticalitysequence" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.tree.verticality.VerticalitySequence">
<em class="property">class </em><code class="descclassname">music21.tree.verticality.</code><code class="descname">VerticalitySequence</code><span class="sig-paren">(</span><em>verticalities</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.verticality.VerticalitySequence" title="Permalink to this definition">¶</a></dt>
<dd><p>A segment of verticalities.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.tree.verticality.VerticalitySequence" title="music21.tree.verticality.VerticalitySequence"><code class="xref py py-class docutils literal"><span class="pre">VerticalitySequence</span></code></a> methods</p>
<dl class="method">
<dt id="music21.tree.verticality.VerticalitySequence.unwrap">
<code class="descclassname">VerticalitySequence.</code><code class="descname">unwrap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.verticality.VerticalitySequence.unwrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleVariant.html" title="music21.variant"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleTreeTrees.html" title="music21.tree.trees"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2016, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Aug 21, 2016.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>